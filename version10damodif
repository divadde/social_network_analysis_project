{"metadata":{"kaggle":{"accelerator":"none","dataSources":[{"sourceId":1632066,"sourceType":"datasetVersion","datasetId":935914}],"dockerImageVersionId":30732,"isInternetEnabled":true,"language":"python","sourceType":"notebook","isGpuEnabled":false},"kernelspec":{"name":"python3","display_name":"Python 3","language":"python"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.10.13"},"papermill":{"default_parameters":{},"duration":null,"end_time":null,"environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2024-07-14T14:07:11.387989","version":"2.5.0"},"colab":{"provenance":[]},"widgets":{"application/vnd.jupyter.widget-state+json":{"9448fa9ef48d46239aa77e437cf1de3c":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_f3031e318a9942d19dc277b4bc93b60d","IPY_MODEL_e46bf0d23c0547efa833aafcb2f36d7d","IPY_MODEL_1c4d1d28e3e94aa18021e5761c98f37b"],"layout":"IPY_MODEL_911e105be8bd4ebeabd41d51a4eab597"}},"f3031e318a9942d19dc277b4bc93b60d":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_d559c36ec8db4c37b340e70e6342c52e","placeholder":"​","style":"IPY_MODEL_7a649af85b1f4adc8f24a3e364c0b6aa","value":"config.json: 100%"}},"e46bf0d23c0547efa833aafcb2f36d7d":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_fabf24f6fd3e4b56a72f72fe9812c06a","max":1208,"min":0,"orientation":"horizontal","style":"IPY_MODEL_582868ae4ba7459fa195d6430bd90b32","value":1208}},"1c4d1d28e3e94aa18021e5761c98f37b":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_7243105376aa46b68db42f6c9bf3f5b6","placeholder":"​","style":"IPY_MODEL_7835a22b76e94cd1842d372bbc41f577","value":" 1.21k/1.21k [00:00&lt;00:00, 38.2kB/s]"}},"911e105be8bd4ebeabd41d51a4eab597":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d559c36ec8db4c37b340e70e6342c52e":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7a649af85b1f4adc8f24a3e364c0b6aa":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"fabf24f6fd3e4b56a72f72fe9812c06a":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"582868ae4ba7459fa195d6430bd90b32":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"7243105376aa46b68db42f6c9bf3f5b6":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7835a22b76e94cd1842d372bbc41f577":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"7368731e7986445691612e805a43eefb":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_5cfba34b63744744a14e8fd02192c912","IPY_MODEL_7621ed243e8846b3a47a96bfbb7b4fd6","IPY_MODEL_c37f05c59104431ca6b934f91eef292c"],"layout":"IPY_MODEL_abe1dac427f344b296cc55c16aa87d36"}},"5cfba34b63744744a14e8fd02192c912":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_6903f1150cb442698411dc73134b18e5","placeholder":"​","style":"IPY_MODEL_cff45a4ba89a433b972ec9bd97e38d15","value":"model.safetensors: 100%"}},"7621ed243e8846b3a47a96bfbb7b4fd6":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_11adb729da944e16bffd3704d8e5b1f2","max":891646390,"min":0,"orientation":"horizontal","style":"IPY_MODEL_c2cb8352097b4689b78fa3ebd640602d","value":891646390}},"c37f05c59104431ca6b934f91eef292c":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_762aee51c5ce4f4eb9ada65a82b1e4c9","placeholder":"​","style":"IPY_MODEL_3a3c7ba7bcb54ddbab3332f9fd8438d5","value":" 892M/892M [00:17&lt;00:00, 51.1MB/s]"}},"abe1dac427f344b296cc55c16aa87d36":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"6903f1150cb442698411dc73134b18e5":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"cff45a4ba89a433b972ec9bd97e38d15":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"11adb729da944e16bffd3704d8e5b1f2":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c2cb8352097b4689b78fa3ebd640602d":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"762aee51c5ce4f4eb9ada65a82b1e4c9":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3a3c7ba7bcb54ddbab3332f9fd8438d5":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"c691928da1e247258d32ce7509517356":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_ac09295223ab4948ac59c09f4c97ba24","IPY_MODEL_bdcd15f2f7284653a0e801877e7b40d6","IPY_MODEL_63090239fe104390b79127cd97b3ac8e"],"layout":"IPY_MODEL_0d61837599134356b6a7b2e53bf40e28"}},"ac09295223ab4948ac59c09f4c97ba24":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_77c051ac960d4bd7a9738ab58066814f","placeholder":"​","style":"IPY_MODEL_d618111112ba4ca98de1f286f92eeb31","value":"generation_config.json: 100%"}},"bdcd15f2f7284653a0e801877e7b40d6":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_4177d03edffc41b48ea0aaa5bdf5d8c1","max":147,"min":0,"orientation":"horizontal","style":"IPY_MODEL_0b43b3597fed4d1dbdd529b4e6608f38","value":147}},"63090239fe104390b79127cd97b3ac8e":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_e35551e98dc54583bdf1982c1244c487","placeholder":"​","style":"IPY_MODEL_9f413257d22c4605b504f13a9455af85","value":" 147/147 [00:00&lt;00:00, 6.56kB/s]"}},"0d61837599134356b6a7b2e53bf40e28":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"77c051ac960d4bd7a9738ab58066814f":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d618111112ba4ca98de1f286f92eeb31":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"4177d03edffc41b48ea0aaa5bdf5d8c1":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"0b43b3597fed4d1dbdd529b4e6608f38":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"e35551e98dc54583bdf1982c1244c487":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"9f413257d22c4605b504f13a9455af85":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"b6d7ee6b541b4d66aae5dd9b7e4aac0e":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_84aef4021b9a47059919fbceb05205d5","IPY_MODEL_48c6b4db2113488da70d7e3645c85919","IPY_MODEL_6704013b2cc4469389bfa8e9d546dac5"],"layout":"IPY_MODEL_e68804dc333443fa90b7d664f1090355"}},"84aef4021b9a47059919fbceb05205d5":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_08e869228e4046c8b79d2a23eb6e378e","placeholder":"​","style":"IPY_MODEL_62e1de7e5e564fcda917dfacbeabc680","value":"spiece.model: 100%"}},"48c6b4db2113488da70d7e3645c85919":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_4a3db50855f544298cfe3c1745a186aa","max":791656,"min":0,"orientation":"horizontal","style":"IPY_MODEL_afdd96a9a18c42c78245bb549e33e46b","value":791656}},"6704013b2cc4469389bfa8e9d546dac5":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_237204b4359f44aa96d15785d7efd9aa","placeholder":"​","style":"IPY_MODEL_729393031bb845bd888de5ab68a4d218","value":" 792k/792k [00:00&lt;00:00, 5.09MB/s]"}},"e68804dc333443fa90b7d664f1090355":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"08e869228e4046c8b79d2a23eb6e378e":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"62e1de7e5e564fcda917dfacbeabc680":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"4a3db50855f544298cfe3c1745a186aa":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"afdd96a9a18c42c78245bb549e33e46b":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"237204b4359f44aa96d15785d7efd9aa":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"729393031bb845bd888de5ab68a4d218":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"50249a1249134554b0d056f55cce6629":{"model_module":"@jupyter-widgets/controls","model_name":"HBoxModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_2cfdd6bac0194e3faf06afc40ea75407","IPY_MODEL_944690643d1e484bb7d173e73d166c28","IPY_MODEL_990afed6908d49f19881f58095d7c52c"],"layout":"IPY_MODEL_d8b79d7f71054dc8bc7e18b071887698"}},"2cfdd6bac0194e3faf06afc40ea75407":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_20d964cff0834e93bbceb303aabc6e34","placeholder":"​","style":"IPY_MODEL_10b9293b5c7e4d53bca8bd23753fa3b6","value":"tokenizer.json: 100%"}},"944690643d1e484bb7d173e73d166c28":{"model_module":"@jupyter-widgets/controls","model_name":"FloatProgressModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"FloatProgressModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ProgressView","bar_style":"success","description":"","description_tooltip":null,"layout":"IPY_MODEL_acc7afb3710a4a59987fdc4206402970","max":1389353,"min":0,"orientation":"horizontal","style":"IPY_MODEL_435910b96ad345a58fa2e628d0356bc5","value":1389353}},"990afed6908d49f19881f58095d7c52c":{"model_module":"@jupyter-widgets/controls","model_name":"HTMLModel","model_module_version":"1.5.0","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_de2326695fcb4da28cccb26dc8433054","placeholder":"​","style":"IPY_MODEL_8716e25758a4430f8b10331ab95f04ba","value":" 1.39M/1.39M [00:00&lt;00:00, 9.93MB/s]"}},"d8b79d7f71054dc8bc7e18b071887698":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"20d964cff0834e93bbceb303aabc6e34":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"10b9293b5c7e4d53bca8bd23753fa3b6":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"acc7afb3710a4a59987fdc4206402970":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"435910b96ad345a58fa2e628d0356bc5":{"model_module":"@jupyter-widgets/controls","model_name":"ProgressStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ProgressStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","bar_color":null,"description_width":""}},"de2326695fcb4da28cccb26dc8433054":{"model_module":"@jupyter-widgets/base","model_name":"LayoutModel","model_module_version":"1.2.0","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"8716e25758a4430f8b10331ab95f04ba":{"model_module":"@jupyter-widgets/controls","model_name":"DescriptionStyleModel","model_module_version":"1.5.0","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}}}}},"nbformat_minor":4,"nbformat":4,"cells":[{"cell_type":"markdown","source":"# Importazione librerie e visualizzazione Dataset","metadata":{"papermill":{"duration":0.02224,"end_time":"2024-07-14T14:07:14.256598","exception":false,"start_time":"2024-07-14T14:07:14.234358","status":"completed"},"tags":[],"id":"xqK7l9J5RgeH"}},{"cell_type":"code","source":"import pandas as pd\nimport networkx as nx\nfrom itertools import combinations\nimport matplotlib.pyplot as plt","metadata":{"_kg_hide-output":false,"papermill":{"duration":1.591795,"end_time":"2024-07-14T14:07:15.871433","exception":false,"start_time":"2024-07-14T14:07:14.279638","status":"completed"},"tags":[],"id":"7ydYFiJsRgeI","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"#Lettura del dataset:\ndf_trump = pd.read_csv(\"/kaggle/input/us-election-2020-tweets/hashtag_donaldtrump.csv\",lineterminator='\\n')\ndf_biden = pd.read_csv(\"/kaggle/input/us-election-2020-tweets/hashtag_joebiden.csv\",lineterminator='\\n')","metadata":{"papermill":{"duration":null,"end_time":null,"exception":false,"start_time":"2024-07-14T14:07:15.893992","status":"running"},"tags":[],"id":"nICwaOFPRgeJ","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"print(f\"Tweet with Trump hashtag: {len(df_trump)}\")\nprint(f\"Tweet with Biden hashtag: {len(df_biden)}\")","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"Dkzq8JyLRgeK","outputId":"c834b915-5acf-47df-8cd3-bc949f38dccb","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"#Dataframe unito (eliminati i duplicati)\ndf_duplicated = pd.concat([df_trump,df_biden])\ndf = df_duplicated.drop_duplicates(subset=\"tweet\")\n\nprint(f\"Total tweets: {len(df_duplicated)}\")\nprint(f\"Total tweets: {len(df)}\")","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"6EMc7V2qRgeK","outputId":"14445ad5-1a74-4959-97ef-20a288f70ab9","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"df.head()","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"aPZ4lEZbRgeK","outputId":"9f75ee79-2106-48c9-c026-1f76ab1785f9","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"df.tail()","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"z99Bz5V9RgeK","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"username_column = df['user_screen_name']\n\n# Verifica se 'trump' è presente nella colonna username\nis_trump_present = (username_column == 'realDonaldTrump').any()\nprint(is_trump_present)","metadata":{"id":"gZ9KjG-a9hhT","outputId":"31a25924-eed7-4570-a866-a724d5fdbc0a","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Verifica se 'biden' è presente nella colonna username\nis_biden_present = (username_column == 'JoeBiden').any()\nprint(is_biden_present)","metadata":{"id":"SI_VRBiN-Uhy","outputId":"ed40e751-0b87-44cb-b3a4-3f02a567948e","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"","metadata":{}},{"cell_type":"code","source":"#Numero di utenti totali (potenziali nodi)\nprint(df[\"user_id\"].value_counts())","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"9oQ1ytT4RgeL","outputId":"e3f25847-a4a2-48e5-d8e2-e473a9f4a5d6","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"# Preprocessing (filtraggio tweet/utenti)","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"_4ZVD6U9RgeL"}},{"cell_type":"code","source":"#Filtraggio sulla base dei like\ndf_like_5 = df[df[\"likes\"]>=5]\ndf_like_10 = df[df[\"likes\"]>=10]\ndf_like_20 = df[df[\"likes\"]>=20]\ndf_like_50 = df[df[\"likes\"]>=50]\n\nprint(f\"Total tweets: {len(df_like_5)}\")\nprint(f\"Total tweets: {len(df_like_10)}\")\nprint(f\"Total tweets: {len(df_like_20)}\")\nprint(f\"Total tweets: {len(df_like_50)}\")\nprint(df_like_50[\"user_id\"].value_counts())","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"T9mIjQZERgeM","outputId":"2ec60f22-85c6-4fb4-dab1-bbc336c4bdc7","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"#Filtraggio sulla base dei retweet\ndf_retweet_5 = df[df[\"retweet_count\"]>=5]\ndf_retweet_10 = df[df[\"retweet_count\"]>=10]\ndf_retweet_20 = df[df[\"retweet_count\"]>=20]\ndf_retweet_50 = df[df[\"retweet_count\"]>=50]\n\nprint(f\"Total tweets: {len(df_retweet_5)}\")\nprint(f\"Total tweets: {len(df_retweet_10)}\")\nprint(f\"Total tweets: {len(df_retweet_20)}\")\nprint(f\"Total tweets: {len(df_retweet_50)}\")\nprint(df_retweet_50[\"user_id\"].value_counts())","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"mNvEOKvtRgeM","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"#FILTRAGGIO BASATO SU paese=United states\ndf_country= df[df[\"country\"]==\"United States of America\"]\nprint(f\"Total tweets: {len(df_country)}\")\n\nprint(df_country[\"user_id\"].value_counts())\ndf_country.tail()","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"-l4u2HETRgeM","outputId":"a43aa945-a293-46e7-9585-ad33898dda91","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"# Costruisco la rete con le menzioni","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"X7UYSxTaRgeN"}},{"cell_type":"code","source":"popular = True #se true, considero rete con >15.000 followers, se false considero rete con <1.000 followers\n\n#FILTRAGGIO BASATO SU stato= United states e sul numero di follower, voglio capire se ci sono\n#utenti importanti o se ho completamente rimosso profili di informazione\nif popular:\n    df_country_e_follower= df_country[df_country[\"user_followers_count\"]>=15000]\nelse:\n    df_country_e_follower= df_country[df_country[\"user_followers_count\"]<1000]\n\nprint(f\"Total tweets: {len(df_country_e_follower)}\")\nprint(df_country_e_follower[\"user_id\"].value_counts())\ndf_country_e_follower.tail()\n","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"B0ezXIJNRgeN","outputId":"997521ae-86b9-4ef2-aea7-17276c33a717","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"print(df_country_e_follower[\"user_id\"].value_counts())","metadata":{"id":"JsCYUVhn5PDM","outputId":"f63ae86e-bbd1-4055-e4e9-8a9a7d21187d","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"#FILTRAGGIO BASATO SU MENZIONI+country+followers\ndef contains_mentions(tweet):\n    return '@' in tweet\n\ndf_with_mentions = df_country_e_follower[df_country_e_follower['tweet'].apply(contains_mentions)]\n\nprint(f\"Total tweets: {len(df_with_mentions)}\")\n\n\nprint(df_with_mentions[\"user_id\"].value_counts())\n# SE C'è UNA MENZIONE QUELL'UTENTE POTREBBE NON ESISTERE NEI DATI SE NON HA PUBBLICATO NIENTE (ci interessa davvero se abbia pubblicato qualcosa?)","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"q57zs__gRgeN","outputId":"4da31a69-434b-4db1-a258-974afa05167f","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"import re\n# Initialize a directed graph\nG = nx.DiGraph()\n\n# Function to extract mentioned users from a tweet\ndef extract_mentions(tweet):\n    return re.findall(r\"@(\\w+)\", tweet)\n\nunique_users = set(df_country_e_follower['user_screen_name'].unique())\n\n# Add nodes and edges based on mentions\nfor index, row in df_with_mentions.iterrows():\n    user_screen_name = row['user_screen_name'] #nome dell'utente\n    mentions = extract_mentions(row['tweet']) #menzioni dell'utente verso altri utenti\n\n    # Add the user as a node\n    if not G.has_node(user_screen_name): #se utente non presente, lo aggiungo alla rete\n        G.add_node(user_screen_name)\n\n    # Add edges from the user to each mentioned user if the mentioned user is already a node\n    for mention in mentions:\n        if mention in unique_users:  # Check if the mentioned user is present in the DataFrame\n            if not G.has_node(mention):  # se il nodo menzionato non è presente, lo aggiungo alla rete\n                G.add_node(mention)\n            if mention != user_screen_name:  # rimuovo i selfloop (automenzioni)\n                G.add_edge(user_screen_name, mention)\n\n\n# Display the number of nodes and edges\nprint(f\"Number of nodes: {G.number_of_nodes()}\")\nprint(f\"Number of edges: {G.number_of_edges()}\")","metadata":{"papermill":{"duration":null,"end_time":null,"exception":null,"start_time":null,"status":"pending"},"tags":[],"id":"dfKK-n-cRgeN","outputId":"6f944198-c22d-4582-aca0-f8f81a907324","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"# Rete per individuare le spam farm\n\n\n*   I nodi che menzionano devono essere quelli con pochi follower, nessun filtro sul luogo\n*   quelli menzionati devono essere utenti \"famosi\"\nSICCOME Nè biden nè trump sono presenti nel dataset, devo togliere il filtro sugli utenti menzionati\n*   aggiungere peso sull'arco per vedere quante volte quell utente ha menzionato\n\n\n\n\n","metadata":{"id":"ULd72fvDAgPj"}},{"cell_type":"code","source":"#df_follower sono i potenziali spammer, filtro gli utenti con <100 follower e che hanno menzionato \n\ndf_follower= df[df[\"user_followers_count\"]<=100]\n#print(df_follower[\"user_id\"].value_counts())\ndf_with_mentions_SPAM = df_follower[df_follower['tweet'].apply(contains_mentions)]\n\nprint(df_with_mentions_SPAM[\"user_id\"].value_counts())\n","metadata":{"id":"he4IgVUgAes4","outputId":"f86a8514-2ecd-4d52-91e0-3719587491a0","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"import re\n\nG = nx.DiGraph()\n\ndef extract_mentions(tweet):\n    return re.findall(r\"@(\\w+)\", tweet)\n\n\nusername_column = df['user_screen_name'] #tutti gli utenti\n\ndf_utenti_popolari= df[df[\"user_followers_count\"]>=10000000]\n\nutentipop = df_utenti_popolari['user_screen_name']\n\n\nfor index, row in df_with_mentions_SPAM.iterrows():\n    user_screen_name = row['user_screen_name'] #nome dell'utente\n    mentions = extract_mentions(row['tweet']) #menzioni dell'utente verso altri utenti\n\n\n    if not G.has_node(user_screen_name): #se utente non presente, lo aggiungo alla rete\n        G.add_node(user_screen_name)\n    \n\n    for mention in mentions:\n        if (mention in utentipop) or (mention not in username_column):  # l'utente menzionato mi interessa solo se è popolare oppure se non c'è proprio nel dataset (es. biden)\n            if mention != user_screen_name:  # Avoid self-loops\n                if G.has_edge(user_screen_name, mention):\n                    G[user_screen_name][mention]['weight'] += 1\n                else:\n                    G.add_edge(user_screen_name, mention, weight=1)\n\n\nprint(f\"Number of nodes: {G.number_of_nodes()}\")\nprint(f\"Number of edges: {G.number_of_edges()}\")","metadata":{"id":"ql6o2dGIDXSe","outputId":"326eff23-7c6e-4a0f-8bd2-bf39749817ee","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"import collections \nfrom collections import Counter\n# Plot della degree distribution\n\n# Calcolare i gradi dei nodi\ndegrees = [degree for node, degree in G.degree()]\n\n# Calcolare la distribuzione dei gradi\ndegree_count = Counter(degrees)\ndeg, cnt = zip(*degree_count.items())\n","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"sorted_keys = sorted(dict(degree_count).keys()) #le chiavi sono i gradi\n\nprint(sorted_keys)\n\nsorted_values = [dict(degree_count)[key] for key in sorted_keys] #i valori sono il numero di utenti\n\nprint(sorted_values)","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Plot log-log\n\n# Creare un grafico\nplt.figure()\n\n# Tracciare i dati\nplt.plot(sorted_keys, sorted_values, label='Log-log degree distrib')\n\n# Impostare la scala logaritmica sugli assi x e y\nplt.xscale('log')\nplt.yscale('log')\n\n# Aggiungere etichette e titolo\nplt.xlabel('Degree')\nplt.ylabel('Users')\nplt.title('Grafico con assi in scala logaritmica')\nplt.legend()\n\n# Mostrare il grafico\nplt.show()","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"high_degree_nodes = [node for node, degree in G.degree() if degree > 10000]  # Soglia di esempio\nfor node in high_degree_nodes:\n    print(f'Node: {node}, Degree: {G.degree(node)}')\n","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"mentions_per_node = {}\nfor u, v, data in G.edges(data=True):\n    if v in high_degree_nodes:\n        if v not in mentions_per_node:\n            mentions_per_node[v] = 0\n        mentions_per_node[v] += data['weight']\n\nfor node, mentions in mentions_per_node.items():\n    print(f'Node: {node}, Mentions: {mentions}')\n","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"### Analisi del Clustering Coefficient\n\nI valori molto bassi del clustering coefficient globale e locale suggeriscono che la rete è scarsamente clusterizzata. In altre parole, i nodi tendono a non formare triadi (triangoli) con i loro vicini. Questo risultato era atteso, poiché è improbabile che utenti famosi menzionino utenti poco popolari.\n\nNel contesto della rete analizzata, che rappresenta menzioni su una piattaforma di social media, il filtro applicato per selezionare utenti con pochi follower (potenziali spammer) potrebbe spiegare ulteriormente i bassi valori del clustering coefficient. Infatti, tali account di spam tendono a non essere connessi tra loro, ma piuttosto a menzionare account famosi in maniera isolata. Questa configurazione porta a una rete con scarsa interconnessione tra i nodi, risultando in bassi valori sia del clustering coefficient globale che locale.\n\nQuesta analisi conferma l'ipotesi iniziale secondo cui gli utenti con pochi follower che menzionano utenti famosi operano in maniera isolata, senza formare comunità dense e connesse.","metadata":{}},{"cell_type":"code","source":"# Clustering coefficient\n\n# Global clustering coefficient\nglobal_clustering_coeff = nx.transitivity(G)\nprint(f\"Global clustering coeff: {global_clustering_coeff}\")\n\n# Local clustering coefficient\nlocal_clustering_coeff = nx.average_clustering(G)\nprint(f\"Local clustering coeff: {local_clustering_coeff}\")","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Calcola la reciprocità globale della rete\nglobal_reciprocity = nx.reciprocity(G)\nprint(f'Reciprocità Globale: {global_reciprocity:.6f}')\n\n","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Calcola la reciprocità locale (per nodo)\nlocal_reciprocity = nx.reciprocity(G, nodes=G.nodes())\n\n# Filtra i nodi con reciprocità None\nfiltered_reciprocity = {k: v for k, v in local_reciprocity.items() if v is not None}\n\n# Ordina i nodi per reciprocità in ordine decrescente\nsorted_reciprocity = sorted(filtered_reciprocity.items(), key=lambda x: x[1], reverse=True)\n\n# Stampiamo i nodi con la reciprocità più alta (top 10)\nprint(\"Top 10 nodi per reciprocità:\")\nfor node, reciprocity in sorted_reciprocity[:10]:\n    print(f'Nodo: {node}, Reciprocità: {reciprocity:.6f}')\n","metadata":{"trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"degree_centrality = nx.in_degree_centrality(G)\n\n# Ordiniamo i nodi in base ai valori di degree centrality in ordine decrescente\nsorted_degree = sorted(degree_centrality.items(), key=lambda x: x[1], reverse=True)\n\n# Stampiamo i nodi con i valori più alti di degree centrality\nfor node, centrality in sorted_degree[:10]: #stampo solo i migliori 10\n    print(f'Nodo: {node}, Degree Centrality: {centrality:.6f}')","metadata":{"id":"Hf9xufNzGh2r","outputId":"6e34d5e6-7944-491a-eed1-40fed5bcf804","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"out_degree_centrality = nx.out_degree_centrality(G)\n\n# Ordiniamo i nodi in base ai valori di degree centrality in ordine decrescente\nsorted_degree = sorted(out_degree_centrality.items(), key=lambda x: x[1], reverse=True)\n\n# Stampiamo i nodi con i valori più alti di degree centrality\nfor node, centrality in sorted_degree[:10]: #stampo solo i migliori 10\n    print(f'Nodo: {node}, Degree Centrality: {centrality:.6f}')","metadata":{"id":"VrYsg-fyBaJ8","outputId":"3af14ceb-08f6-4dc3-be57-54f21a6ba920","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Trovare i primi 10 archi con il peso maggiore (che hanno fatto piu menzioni)\nedges_with_weights = [(u, v, data['weight']) for u, v, data in G.edges(data=True)]\nedges_with_weights.sort(key=lambda x: x[2], reverse=True)  # Ordinare in base al peso in ordine decrescente\n\ntop_10_edges = edges_with_weights[:10]\n\n# Stampare i primi 10 archi con il peso maggiore\nfor edge in top_10_edges:\n    print(f\"Edge {edge[0]} -> {edge[1]} with weight {edge[2]}\")","metadata":{"id":"57tQU8BDCmB_","outputId":"ba1378aa-786f-4e73-ecf1-d1b3736f0551","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"row_pet = df.loc[df['user_screen_name'] == 'larslmortensen'].iloc[0]\nprint(row_pet)","metadata":{"id":"cujtYRw_P9pt","outputId":"87b8579f-3f04-42ae-f507-55eefc1805bc","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"markdown","source":"lars sembra una spammer , pubblica sempre le stesse cose, ora vediamo gli orari.\n ha pubblicato ogni giorno dal 15 ottobre 2020 al 8-11. sembra anti trump","metadata":{"id":"QECpRjIyRdIx"}},{"cell_type":"code","source":"# Filtrare i tweet dell'utente larslmortensen\ntweets_lars = df.loc[df['user_screen_name'] == 'larslmortensen', ['created_at', 'tweet']]\n\n# Stampare l'ora e il tweet per ogni riga\nfor index, row in tweets_lars.iterrows():\n    ora = row['created_at']  # Assumendo che 'created_at' sia un campo di tipo datetime\n    tweet = row['tweet']\n    print(f'Ora: {ora}, Tweet: {tweet}')\n","metadata":{"id":"TBvWcJY6ZUyL","outputId":"b56212f9-a811-4da6-ea52-2d39f2b70df1","trusted":true},"execution_count":null,"outputs":[]},{"cell_type":"code","source":"# Creare una lista degli archi con peso maggiore di 100\nedges_filtered = [(u, v, w) for u, v, w in G.edges(data='weight') if w > 150]\n\n# Creare un sottografo contenente solo gli archi filtrati\nG_filtered = nx.DiGraph()\n\nfor u, v, w in edges_filtered:\n    G_filtered.add_edge(u, v, weight=w)\n\n# Visualizzare il grafo filtrato\nplt.figure(figsize=(12, 8))\npos = nx.kamada_kawai_layout(G_filtered)\n\n# Disegnare i nodi\nnx.draw_networkx_nodes(G_filtered, pos, node_size=500, node_color='lightblue', edgecolors='k')\n\n# Disegnare gli archi con etichette per il peso\nnx.draw_networkx_edges(G_filtered, pos, edgelist=edges_filtered, edge_color='grey', alpha=0.5, arrows=True)\nedge_labels = {(u, v): d['weight'] for u, v, d in G_filtered.edges(data=True)}\nnx.draw_networkx_edge_labels(G_filtered, pos, edge_labels=edge_labels, font_color='red')\n\n# Disegnare le etichette dei nodi\nnx.draw_networkx_labels(G_filtered, pos, font_size=10, font_color='black')\n\nplt.title(\"Graph with Edges Weight > 100\")\nplt.show()","metadata":{"id":"jZzVaiScGUAQ","outputId":"81cfab0d-b2e6-4813-c9bb-8e965b8ebc6a","trusted":true},"execution_count":null,"outputs":[]}]}